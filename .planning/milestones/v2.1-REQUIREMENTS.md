# Requirements Archive: v2.1 Over-Detection Quality Pass

**Archived:** 2026-01-28
**Status:** SHIPPED

This is the archived requirements specification for v2.1.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: Pediatric Handoff PHI Remover v2.1

**Defined:** 2026-01-28
**Core Value:** Reliable PHI detection with balanced precision/recall — catch all PHI without over-redacting clinically useful content

## v2.1 Requirements

Requirements for over-detection quality pass. Each maps to roadmap phases.

### Test Scripts

- [x] **TEST-01**: Generate realistic I-PASS handoff scripts with respiratory support terminology
- [x] **TEST-02**: Generate realistic scripts with medication dosing and timeline language
- [x] **TEST-03**: Generate edge-case scripts targeting duration phrases ("three days of symptoms")
- [x] **TEST-04**: Generate edge-case scripts targeting flow terminology ("on high flow", "placed on high")
- [x] **TEST-05**: Record test scripts and process through PHI detection pipeline

### Deny List Expansion

- [x] **DENY-01**: Add duration patterns to DATE_TIME deny list (one/two/three/etc. days, weeks, months)
- [x] **DENY-02**: Add medical flow terms to LOCATION deny list with word boundary protection
- [x] **DENY-03**: Switch LOCATION deny list from exact match to substring match with word boundaries
- [x] **DENY-04**: Preserve unit names (PICU, NICU) during ROOM entity redaction

### Validation

- [x] **VAL-01**: Verify no regressions on existing 27 real handoff validation set
- [x] **VAL-02**: Document all false positives found during test script processing
- [x] **VAL-03**: CI passes with expanded deny lists

## Future Requirements

Deferred to later milestones.

### Under-Detection Fixes (v3.0+)

- **UNDER-01**: Improve 7-digit phone number detection (555-0123)
- **UNDER-02**: Improve detailed age detection ("3 weeks 2 days old")
- **UNDER-03**: Improve street address detection ("425 Oak Street")

## Out of Scope

| Feature | Reason |
|---------|--------|
| Machine learning false positive classifier | Overkill for current deny list size (<100 terms) |
| Custom spaCy model training | Premature optimization — fix config first |
| Performance benchmarking | Not primary goal of this milestone |
| Unicode/accent normalization | English-only transcription, rare edge case |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| TEST-01 | Phase 10 | Complete |
| TEST-02 | Phase 10 | Complete |
| TEST-03 | Phase 10 | Complete |
| TEST-04 | Phase 10 | Complete |
| TEST-05 | Phase 10 | Complete |
| DENY-01 | Phase 11 | Complete |
| DENY-02 | Phase 11 | Complete |
| DENY-03 | Phase 11 | Complete |
| DENY-04 | Phase 11 | Complete |
| VAL-01 | Phase 12 | Complete |
| VAL-02 | Phase 12 | Complete |
| VAL-03 | Phase 12 | Complete |

**Coverage:**
- v2.1 requirements: 12 total
- Shipped: 12
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 12 of 12 v2.1 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-01-28 as part of v2.1 milestone completion*

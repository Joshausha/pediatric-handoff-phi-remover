# Requirements Archive: v2.0 CI/CD Pipeline Fix

**Archived:** 2026-01-26
**Status:** ✅ SHIPPED

This is the archived requirements specification for v2.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: v2.0 CI/CD Pipeline Fix

## v2.0 Requirements

### Dependencies

- [x] **DEP-01**: Remove `philter-ucsf>=2.0.0` from requirements.txt (only 1.0.3 exists on PyPI)
  - **Outcome:** Removed in commit ed10af5
- [x] **DEP-02**: Fix numpy constraint for spacy compatibility
  - **Outcome:** Added `numpy>=1.15.0,<2.0` in commit e09444b

### Tests

- [x] **TEST-01**: Update test expectation for "Ronald McDonald House" — v1.0 preserves it (not PHI)
  - **Outcome:** Aligned in sample_transcripts.py, uses expected_over_detected field
- [x] **TEST-02**: Update test expectation for "35 weeker" — v1.0 redacts as [AGE]
  - **Outcome:** Fixed in commit ed10af5, only "2 month old" in should_contain

### CI/CD Verification

- [x] **CI-01**: GitHub Actions test workflow passes
  - **Outcome:** PASSING — 172 passed, 8 xfailed, 1 xpassed (Python 3.9, 3.10, 3.11)
- [x] **CI-02**: GitHub Actions Docker build workflow passes
  - **Outcome:** PASSING — Build completes in ~24s

## Out of Scope

- Performance optimizations — separate milestone
- New PHI detection features — separate milestone
- Security hardening — separate milestone
- Age pattern architecture refactoring — deferred (deny list working)

## Traceability

| Requirement | Phase | Verified |
|-------------|-------|----------|
| DEP-01      | 9     | ✓ 2026-01-26 |
| DEP-02      | 9     | ✓ 2026-01-26 |
| TEST-01     | 9     | ✓ 2026-01-26 |
| TEST-02     | 9     | ✓ 2026-01-26 |
| CI-01       | 9     | ✓ 2026-01-26 |
| CI-02       | 9     | ✓ 2026-01-26 |

---

## Milestone Summary

**Shipped:** 6 of 6 v2.0 requirements (with 1 implicit dep fix for DEP-02)
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-01-26 as part of v2.0 milestone completion*

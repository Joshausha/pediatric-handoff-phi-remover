---
phase: 06-real-handoff-testing
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/phases/06-real-handoff-testing/REAL_HANDOFF_VALIDATION.md
  - .planning/phases/06-real-handoff-testing/error_template.md
autonomous: false

must_haves:
  truths:
    - "Validation documentation templates exist"
    - "Web application is running and accessible"
    - "User has tested at least 5 diverse real handoffs"
    - "Errors are documented in structured format"
  artifacts:
    - path: ".planning/phases/06-real-handoff-testing/REAL_HANDOFF_VALIDATION.md"
      provides: "Main validation findings document"
      contains: "Testing Session"
    - path: ".planning/phases/06-real-handoff-testing/error_template.md"
      provides: "Structured error documentation template"
      contains: "Error Type"
  key_links:
    - from: "error_template.md"
      to: "REAL_HANDOFF_VALIDATION.md"
      via: "Error entries follow template structure"
      pattern: "Sample ID|Error Type|Severity"
---

<objective>
Prepare validation infrastructure and conduct first testing session with 5+ real clinical handoffs.

Purpose: Begin external validation on real clinical content (VALD-01). Phase 5 used synthetic data and expert review on synthetic samples. Phase 6 tests the full pipeline (audio -> transcription -> de-identification) on actual handoff text the user reads aloud.

Output: Validation document with first session results, documented errors (if any), initial pattern observations.
</objective>

<execution_context>
@/Users/joshpankin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/joshpankin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-real-handoff-testing/06-RESEARCH.md
@.planning/phases/05-validation-compliance/EXPERT_REVIEW.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create validation documentation templates</name>
  <files>
    .planning/phases/06-real-handoff-testing/REAL_HANDOFF_VALIDATION.md
    .planning/phases/06-real-handoff-testing/error_template.md
  </files>
  <action>
Create two documentation files:

**1. REAL_HANDOFF_VALIDATION.md** — Main findings document with:
- Header with date, tester, system version (weighted recall 94.4%)
- Section for each testing session with handoff summaries
- Handoff metadata table: Sample #, Patient context (de-identified e.g., "8mo bronchiolitis"), Unit, Errors found (count)
- Summary statistics section (totals, false negatives, false positives)
- Pattern observations section (to be filled during testing)
- Final verdict section (pending)

**2. error_template.md** — Reference template per APHL standards (from 06-RESEARCH.md Pattern 2):
```markdown
### Error #[N]: [Brief description]

**Sample ID:** Handoff [N] ([patient context - de-identified])
**Error Type:** [ ] False Negative (PHI leaked) [ ] False Positive (over-redaction)
**Entity Type:** [PERSON | PHONE | DATE_TIME | ROOM | MRN | etc.]
**Severity:** [ ] Critical [ ] High [ ] Medium [ ] Low

**Original Text:** [Describe what was spoken - NO REAL PHI]
**System Output:** [actual detection result]
**Expected Behavior:** [what should have happened]

**Clinical Impact:**
- [ ] Patient identifiable from output
- [ ] Clinical decision-making impaired
- [ ] Minor inconvenience only

**Pattern Hypothesis:** [is this part of larger pattern?]
**Recommended Fix:** [deny list | pattern update | threshold adjustment]
```

CRITICAL: Include warning in both files: "NEVER copy actual PHI into this document. Describe patterns generically."
  </action>
  <verify>
Files exist at paths and contain required sections:
- grep "Testing Session" REAL_HANDOFF_VALIDATION.md
- grep "Error Type" error_template.md
- grep -i "never.*phi" REAL_HANDOFF_VALIDATION.md
  </verify>
  <done>
Both documentation templates exist with proper structure, PHI safety warning included.
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify application is ready for testing</name>
  <files>None (verification only)</files>
  <action>
Start the web application and verify it's accessible:

1. Run: `uvicorn app.main:app --reload` (or verify already running)
2. Check http://localhost:8000 loads the recording interface
3. Verify recording button functions (MediaRecorder API check)
4. Note any environment issues that would block testing

If application fails to start, document the issue and provide fix instructions.

Include in REAL_HANDOFF_VALIDATION.md:
- System readiness: [Ready/Blocked]
- Application URL: http://localhost:8000
- Presidio config version: post-Phase 5 (DATE_TIME deny list with substring matching)
  </action>
  <verify>
Application responds at localhost:8000 with 200 status:
curl -s -o /dev/null -w "%{http_code}" http://localhost:8000 || echo "Start server with: uvicorn app.main:app --reload"
  </verify>
  <done>
Application verified running or clear startup instructions provided. System readiness documented in validation file.
  </done>
</task>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 3: First testing session - 5+ real handoffs</name>
  <action>
User conducts first real handoff testing session.

**What you'll do:**
1. Identify 5+ real text handoffs from recent clinical work (diverse scenarios)
2. Read each handoff aloud into the recording interface
3. Review de-identified output immediately after each recording
4. Document any errors using the template in error_template.md

**Diversity targets (aim for mix):**
- Age ranges: newborn, infant, toddler, school-age, adolescent
- Units: ED, floor, PICU, NICU
- Complexity: simple admission, chronic multi-problem

**For each handoff, note in REAL_HANDOFF_VALIDATION.md:**
- Sample #: 1, 2, 3...
- Patient context (de-identified): "8mo bronchiolitis", "15yo asthma exacerbation"
- Unit: PICU, floor, etc.
- Errors: Count or "None"

**If you find an error:**
1. Copy the error template structure into REAL_HANDOFF_VALIDATION.md
2. Fill in all fields (remember: describe patterns, don't copy real PHI)
3. Note the pattern hypothesis for later analysis
  </action>
  <how-to-verify>
After testing 5+ handoffs:
1. REAL_HANDOFF_VALIDATION.md has entries for each handoff tested
2. Any errors are documented following the template structure
3. Initial pattern observations noted (even if "no patterns yet")

When complete, type: "Session 1 complete: [N] handoffs tested, [M] errors found"
  </how-to-verify>
  <resume-signal>
Type "Session 1 complete: [N] handoffs, [M] errors" when done
  </resume-signal>
</task>

</tasks>

<verification>
Plan 06-01 complete when:
- [ ] Validation templates created with PHI safety warnings
- [ ] Application verified running or startup instructions clear
- [ ] User has completed Session 1 with 5+ handoffs
- [ ] All errors documented in structured format
- [ ] Initial pattern observations recorded
</verification>

<success_criteria>
1. REAL_HANDOFF_VALIDATION.md exists with Session 1 data
2. At least 5 handoffs tested and documented
3. Error documentation follows APHL template structure (if errors found)
4. No real PHI copied into planning files
</success_criteria>

<output>
After completion, create `.planning/phases/06-real-handoff-testing/06-01-SUMMARY.md`
</output>
